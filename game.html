<!DOCTYPE html>
<html>
	<head>
		<title>Rock, Paper, Scissors</title>
		<meta charset="UTF-8"/>
	</head>
	<body>
	<script>

		function computerPlay(){
			let computerChoice = ["Rock", "Paper", "Scissors"];
			return computerChoice[Math.floor(Math.random() * computerChoice.length)];
		}


		function playRound(playerSelection, computerSelection){
			let psLower = playerSelection.toLowerCase();
			switch (true){
				case psLower == "rock" && computerSelection == "Rock":
				case psLower == "scissors" && computerSelection == "Scissors":
				case psLower == "paper" && computerSelection == "Paper":
					return "Tie!";
					break;
				case psLower == "scissors" && computerSelection == "Rock":
					return "You lose! Rock beats Scissors";
				case psLower == "paper" && computerSelection == "Scissors":
					return "You lose! Scissors beat paper";
				case psLower == "rock" && computerSelection == "Paper":
					return "You lose! Paper beats rock";
					break;
				case psLower == "paper" && computerSelection == "Rock":
					return "You win... Paper beats Rock";
				case psLower == "rock" && computerSelection == "Scissors":
					return "You win... Rock beats Scissors";
				case psLower == "scissors" && computerSelection == "Paper":
					return "You win... Scissors beat Paper";
					break;
				
				default:
					return "Please enter a valid choice";
				
			}
		}

		function game(){
			for (let i = 0; i < 5; i++){
			const computerSelection = computerPlay();
			let playerSelection = prompt("Rock, Paper, or Scissors?");
			function checkSelection(){
				if (playerSelection.toLowerCase() != "rock" && playerSelection.toLowerCase() != "paper" && playerSelection.toLowerCase() != "scissors"){
					let validCheck = prompt("Please choose rock, paper, or scissors");
					if (validCheck.toLowerCase() == "rock" || validCheck.toLowerCase() == "paper" ||  validCheck.toLowerCase() == "scissors"){
						return playerSelection = validCheck
					}else{
						checkSelection();
					};
				};
	
			}
			checkSelection();
			let result = console.log(playRound(playerSelection, computerSelection));
			// need to create a function that takes the result (thus the variable), and if it says "you win" then add a point to the user, if it says you lose, either minus a point or give a point to the machine , and if it says tie, then give neither a point. after the end of this loop, then take the total of the points and declare a winner. this will be interesting to send the points to a variable outside the loop (due to scope) (it has to be outside bc you only want the score at the end, not with every loop)	
			}
		}
		
				
		console.log(game());

	</script>
	</body>
</html>
